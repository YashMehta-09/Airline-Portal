package com.airline.dao;

import org.hibernate.Session;
import org.hibernate.SessionFactory;

import com.airline.model.User;
import com.airline.util.HibernateUtil;

public class MySqlDAO implements DAO {

	private SessionFactory sessionFactory;
	
	public MySqlDAO()
	{
		sessionFactory = HibernateUtil.getSessionFactory();
	}
	
	@SuppressWarnings("deprecation")
	public boolean validate(String emailId, String password) {
		
		Session session = sessionFactory.openSession();
		String hql = "from User where emailId = ?1 and password = ?2";
		
		User user = (User)session.createQuery(hql)
				.setString(1, emailId).setParameter(2, password).uniqueResult();
		if(user!=null) {
			return true;
		}
		return false;
	}

}
